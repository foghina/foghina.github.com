<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: control-slider.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: control-slider.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>/**
  * Construct a new Slider control.
  *
  * @class
  * @param {Home} home the home that this control belongs to.
  * @param {String} id the id of this control. Updates will be POSTed to
  *                    &lt;code>home.control_endpoint/id&lt;/code>
  * @param {Object} options options for this control:
  * &lt;ul>
  *   &lt;li>
  *     &lt;code>name&lt;/code> - String, required - friendly name for this control
  *   &lt;/li>
  *   &lt;li>
  *     &lt;code>min&lt;/code> - float, required - minimum value.
  *   &lt;/li>
  *   &lt;li>
  *     &lt;code>max&lt;/code> - float, required - maximum value.
  *   &lt;/li>
  *   &lt;li>
  *     &lt;code>value&lt;/code> - float, required - initial value.
  *   &lt;/li>
  *   &lt;li>
  *     &lt;code>step&lt;/code> - float, required - amount of one slider step.
  *   &lt;/li>
  * &lt;/ul>
  */
function SliderControl(home, id, options) {
  "use strict";
  this.home = home;
  this.id = id;
  this.options = options;
  var template_source = $("#control-slider-template").html();
  this.template = Handlebars.compile(template_source);
}

SliderControl.prototype.render = function() {
  "use strict";
  this.html = $(this.template(this.options));
  this.input = this.html.find("input");
  var thiz = this;
  var value = parseFloat(this.input.val());
  // Instead of listening for the change event, which triggers at each and every
  // step on Chrome / WebKit / Blink and would spam the server, set an interval
  // that checks every half a second if the value changed.
  setInterval(function() {
    if (parseFloat(thiz.input.val()) !== value) {
      value = parseFloat(thiz.input.val());
      $.post(thiz.home.options.control_endpoint + thiz.id, {"value": value});
    }
  }, 500);
  return this.html;
};

Home.register_control("slider", SliderControl);</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="Home.html">Home</a></li><li><a href="OnOffControl.html">OnOffControl</a></li><li><a href="PlusMinusControl.html">PlusMinusControl</a></li><li><a href="SliderControl.html">SliderControl</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.0</a> on Fri Nov 22 2013 02:19:21 GMT+0200 (EET)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
