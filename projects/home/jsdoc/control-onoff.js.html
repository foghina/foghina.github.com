<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: control-onoff.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: control-onoff.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>/**
  * Construct a new On/Off control.
  *
  * @class
  * @param {Home} home the home that this control belongs to.
  * @param {String} id the id of this control. Updates will be POSTed to
  *                    &lt;code>home.control_endpoint/id&lt;/code>
  * @param {Object} options options for this control:
  * &lt;ul>
  *   &lt;li>
  *     &lt;code>name&lt;/code> - String, required - friendly name for this control
  *   &lt;/li>
  *   &lt;li>
  *     &lt;code>on&lt;/code> - boolean, default: false - whether the control is
  *     already "on" or not
  *   &lt;/li>
  *   &lt;li>
  *     &lt;code>on-label&lt;/code> - String, default: "ON" - label to display when
  *     the control is on.
  *   &lt;/li>
  *   &lt;li>
  *     &lt;code>off-label&lt;/code> - String, default: "OFF" - label to display when
  *     the control is off.
  *   &lt;/li>
  * &lt;/ul>
  */
function OnOffControl(home, id, options) {
  "use strict";
  this.home = home;
  this.id = id;
  this.options = options;
  var template_source = $("#control-onoff-template").html();
  this.template = Handlebars.compile(template_source);
}

OnOffControl.prototype.render = function() {
  "use strict";
  this.html = $(this.template(this.options));
  this.switch = this.html.find(".make-switch").bootstrapSwitch();
  if (this.options.on) {
    this.switch.bootstrapSwitch("setState", true);
  }
  if (this.options["on-label"]) {
    this.switch.bootstrapSwitch("setOnLabel", this.options["on-label"]);
  }
  if (this.options["off-label"]) {
    this.switch.bootstrapSwitch("setOffLabel", this.options["off-label"]);
  }
  var thiz = this;
  this.switch.on("switch-change", function(e, data) {
    var on = data.value;
    $.post(thiz.home.options.control_endpoint + thiz.id, {"on": on});
  });
  return this.html;
};

Home.register_control("on-off", OnOffControl);</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="Home.html">Home</a></li><li><a href="OnOffControl.html">OnOffControl</a></li><li><a href="PlusMinusControl.html">PlusMinusControl</a></li><li><a href="SliderControl.html">SliderControl</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.0</a> on Fri Nov 22 2013 02:19:21 GMT+0200 (EET)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
